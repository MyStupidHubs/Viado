import discord
from discord.ext import commands

TOKEN = 'SEU_TOKEN_DO_BOT'
GUILD_ID = SEU_GUILD_ID  # Exemplo: 123456789012345678
USER_ID = 810160880087597076  # ID do Vinicius

intents = discord.Intents.default()
intents.members = True
intents.guilds = True

bot = commands.Bot(command_prefix='!', intents=intents)

@bot.event
async def on_ready():
    print(f'Bot conectado como {bot.user}')

@bot.event
async def on_member_update(before, after):
    if after.id == USER_ID:
        if after.nick == 'vinicius50355' or (after.nick is None and after.name == 'vinicius50355'):
            guild = discord.utils.get(bot.guilds, id=GUILD_ID)
            member = guild.get_member(USER_ID)
            try:
                await member.edit(nick='viadinho50355')
                print(f'Nickname trocado para viadinho50355')
            except Exception as e:
                print(f'Erro ao mudar nick: {e}')

bot.run(TOKEN)
